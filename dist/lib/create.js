"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{"default":e}}function createCreates(e){for(var r=arguments.length,t=Array(r>1?r-1:0),o=1;r>o;o++)t[o-1]=arguments[o];return[createKey,[e,Array.prototype.isPrototypeOf(t[0])?t:[t]]]}function executeCreates(e,r){var t=(0,_slicedToArray3["default"])(r,2),o=t[0],a=t[1];return _rx.Observable.create(function(r){var t=e.get(o);if(!t)return r.onError(new Error("Collection has not been defined yet: "+o)),void r.onCompleted();var n=a.reduce(function(e,r){var t=(0,_slicedToArray3["default"])(r,2),o=(t[0],t[1]);return(0,_assign2["default"])({},e,o)},{});e.get(o).bulkCreate(a.map(function(e){var r=(0,_slicedToArray3["default"])(e,2),t=r[0];return r[1],t}),n).then(function(){return r.onCompleted()})["catch"](function(e){r.onError(e),r.onCompleted()}),r.onNext()})}Object.defineProperty(exports,"__esModule",{value:!0}),exports.createKey=void 0;var _assign=require("babel-runtime/core-js/object/assign"),_assign2=_interopRequireDefault(_assign),_slicedToArray2=require("babel-runtime/helpers/slicedToArray"),_slicedToArray3=_interopRequireDefault(_slicedToArray2),_for=require("babel-runtime/core-js/symbol/for"),_for2=_interopRequireDefault(_for);exports.createCreates=createCreates,exports.executeCreates=executeCreates;var _rx=require("rx"),createKey=exports.createKey=(0,_for2["default"])("sequelize create action");