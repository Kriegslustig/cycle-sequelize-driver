"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{"default":e}}function define(){for(var e=arguments.length,r=Array(e),t=0;e>t;t++)r[t]=arguments[t];return[defineKey].concat(["string"==typeof r[0]?[].concat(r):r])}function executeDefinitions(e,r){var t=r.reduce(function(r,t){var o=(0,_toArray3["default"])(t),i=o[0],n=o.slice(1);return r.set(i,e.define.apply(e,[i].concat((0,_toConsumableArray3["default"])(n))))},(0,_immutable.Map)());return _rx.Observable.create(function(e){_promise2["default"].all.apply(_promise2["default"],(0,_toConsumableArray3["default"])(t.map(function(e){return e.sync()}))).then(function(){for(var r=arguments.length,t=Array(r),o=0;r>o;o++)t[o]=arguments[o];e.onNext(t.reduce(function(e,r){var t=(0,_slicedToArray3["default"])(r,2),o=t[0],i=t[1];return e.set(o,i)},(0,_immutable.Map)())),e.onCompleted()})["catch"](function(r){return e.onError(r)})})}Object.defineProperty(exports,"__esModule",{value:!0}),exports.defineKey=void 0;var _slicedToArray2=require("babel-runtime/helpers/slicedToArray"),_slicedToArray3=_interopRequireDefault(_slicedToArray2),_promise=require("babel-runtime/core-js/promise"),_promise2=_interopRequireDefault(_promise),_toConsumableArray2=require("babel-runtime/helpers/toConsumableArray"),_toConsumableArray3=_interopRequireDefault(_toConsumableArray2),_toArray2=require("babel-runtime/helpers/toArray"),_toArray3=_interopRequireDefault(_toArray2),_for=require("babel-runtime/core-js/symbol/for"),_for2=_interopRequireDefault(_for);exports.define=define,exports.executeDefinitions=executeDefinitions;var _rx=require("rx"),_immutable=require("immutable"),defineKey=exports.defineKey=(0,_for2["default"])("sequelize define action");